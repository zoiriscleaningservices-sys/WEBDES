<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrueWebX – Global Business Directory | Find Local Services Worldwide</title>
    <meta name="description" content="TrueWebX is a global business directory connecting customers with trusted local services and companies worldwide. Search for trusted businesses, view profiles, photos, and contact details. Free consultation available.">
    <meta name="keywords" content="business directory, local services, global business listings, find local companies, professional services, free consultation, business profiles">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social -->
    <meta property="og:title" content="TrueWebX – Global Business Directory">
    <meta property="og:description" content="Discover and connect with local businesses worldwide on TrueWebX. Browse detailed profiles, photos, and contact trusted service providers.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://truewebx.site/">
    <meta property="og:image" content="https://truewebx.site/og-image.jpg">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="canonical" href="https://truewebx.site/">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">

    <!-- Preload critical -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" media="print" onload="this.media='all'">

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <meta name="supabase-anon-key" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZycHlvbWV2amxzYWNvdXJkbWtpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNzA4ODUsImV4cCI6MjA4MTc0Njg4NX0.BsugjF75UO4TArkH5CeOIvJnMZAj8g6Ccf6hu1NsrUM">

<style>
    :root { 
        --coral: #ff6b6b; 
        --turquoise: #0d9488; 
        --white: #ffffff;
        --light-glass: rgba(255, 255, 255, 0.16);
        --card-glass: rgba(255, 255, 255, 0.14);
        --shadow: 0 8px 32px rgba(0,0,0,0.25);
    }
    *, *::before, *::after { box-sizing: border-box; }
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        overscroll-behavior: none;
        font-family: system-ui, -apple-system, sans-serif;
        background: linear-gradient(135deg, var(--turquoise), var(--coral));
        background-attachment: fixed;
        color: var(--white);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .wrapper {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 0 16px;
    }

    .header-wrapper {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 1000;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 24px;
        background: rgba(0, 0, 0, 0.38);
        border-bottom: 1px solid rgba(255,255,255,0.08);
        transition: background 0.35s ease;
        backdrop-filter: blur(8px);
    }
    .header-wrapper.scrolled { background: rgba(0, 0, 0, 0.58); }

    .logo img {
        max-height: 64px;
        width: auto;
        display: block;
    }

    .login-btn {
        background: rgba(255,255,255,0.18);
        border: 1px solid rgba(255,255,255,0.32);
        color: white;
        font-weight: 600;
        padding: 12px 24px;
        border-radius: 50px;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s;
    }
    .login-btn:hover { background: rgba(255,255,255,0.32); transform: translateY(-3px); }

    .main-content { 
        padding-top: 110px; 
        flex: 1;
    }

    .hero { text-align: center; padding: 50px 20px 40px; }
    .tagline { font-size: clamp(1.8rem, 6vw, 2.8rem); font-weight: 700; margin-bottom: 16px; }
    .subtitle { font-size: clamp(1.1rem, 4vw, 1.5rem); opacity: 0.95; max-width: 900px; margin: 0 auto 50px; line-height: 1.7; }

    .search-container { 
        max-width: 760px;
        margin: 0 auto 40px;
        position: relative;
    }
    .search-box {
        width: 100%;
        padding: 20px 70px 20px 30px;
        font-size: 1.3rem;
        border: none;
        border-radius: 50px;
        background: rgba(255,255,255,0.18);
        color: white;
        box-shadow: var(--shadow);
    }
    .search-box::placeholder { color: rgba(255,255,255,0.7); }
    .search-box:focus { outline: 2px solid var(--coral); outline-offset: 4px; box-shadow: 0 0 0 5px rgba(255,107,107,0.4); }
    .search-icon { 
        position: absolute; 
        right: 26px; 
        top: 50%; 
        transform: translateY(-50%); 
        font-size: 2rem; 
        color: rgba(255,255,255,0.8); 
        pointer-events: none; 
    }

    .glass { 
        background: var(--light-glass); 
        border-radius: 32px; 
        padding: 40px 24px; 
        margin: 20px 0; 
        border: 1px solid rgba(255,255,255,0.22); 
        box-shadow: var(--shadow); 
        max-width: 1400px;
        margin-left: auto;
        margin-right: auto;
    }
    h2 { font-size: clamp(2rem, 6vw, 3rem); margin-bottom: 32px; text-align: center; font-weight: 700; }

    .services { 
        display: grid; 
        grid-template-columns: 1fr; 
        gap: 32px; 
        width: 100%;
    }
    .card { 
        background: var(--card-glass); 
        border-radius: 32px; 
        overflow: hidden;
        box-shadow: var(--shadow); 
        transition: transform 0.4s ease, opacity 0.5s ease;
        opacity: 0;
        transform: translateY(20px);
        display: flex; 
        flex-direction: column;
    }
    .card.loaded { opacity: 1; transform: translateY(0); }
    .card:hover { transform: translateY(-10px); }

    .profile-img-wrapper { 
        width: 100%; 
        aspect-ratio: 4 / 3; 
        overflow: hidden; 
        background: rgba(0,0,0,0.15);
    }
    .profile-img { 
        width: 100%; 
        height: 100%; 
        object-fit: cover; 
        transition: transform 0.5s ease;
    }
    .card:hover .profile-img { transform: scale(1.06); }

    .card-content { 
        padding: 28px; 
        text-align: center; 
        flex-grow: 1; 
        display: flex; 
        flex-direction: column; 
        justify-content: space-between;
    }
    .card h3 { font-size: 2rem; margin-bottom: 10px; font-weight: 700; }
    .card .location { font-size: 1.2rem; opacity: 0.9; margin-bottom: 16px; }
    .description-teaser { 
        line-height: 1.7; 
        opacity: 0.95; 
        margin-bottom: 20px; 
        flex-grow: 1;
        display: -webkit-box;
        -webkit-line-clamp: 4;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .photos { 
        display: grid; 
        grid-template-columns: repeat(3, 1fr); 
        gap: 14px; 
        margin: 20px 0;
    }
    .photos img { 
        width: 100%; 
        aspect-ratio: 1 / 1;
        object-fit: cover; 
        border-radius: 16px; 
        box-shadow: 0 4px 14px rgba(0,0,0,0.3);
    }

    .private { filter: blur(6px); transition: filter 0.3s; font-weight: 600; }
    .private:hover, .private:focus { filter: none; }

    .price { font-size: 2rem !important; color: var(--coral) !important; font-weight: 800; margin: 20px 0; }

    .links { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin: 20px 0; }
    .links a { 
        color: #ffeb3b; 
        padding: 10px 18px; 
        background: rgba(255,255,255,0.1); 
        border-radius: 24px; 
        font-size: 1rem; 
        display: flex; 
        align-items: center; 
        gap: 8px; 
        transition: background 0.3s;
        text-decoration: none;
    }
    .links a:hover { background: rgba(255,255,255,0.25); }

    .view-btn { 
        margin: 24px auto 0; 
        padding: 16px 36px; 
        background: var(--coral); 
        color: white; 
        border-radius: 50px; 
        text-decoration: none; 
        font-weight: bold; 
        font-size: 1.2rem; 
        transition: all 0.3s; 
        display: inline-block;
    }
    .view-btn:hover { background: #ff8787; transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.3); }

    .share-btn {
        position: absolute; top: 20px; right: 20px;
        background: rgba(255,255,255,0.18);
        border: 1px solid rgba(255,255,255,0.32);
        border-radius: 50%;
        width: 50px; height: 50px; 
        display: grid; place-items: center;
        cursor: pointer; font-size: 1.4rem; 
        transition: all 0.3s; z-index: 2;
    }
    .share-btn:hover { background: rgba(255,255,255,0.32); transform: scale(1.15); }

    .load-more {
        display: block;
        margin: 40px auto 0;
        padding: 14px 40px;
        font-size: 1.1rem;
        background: rgba(255,255,255,0.18);
        border: 1px solid rgba(255,255,255,0.35);
        border-radius: 50px;
        color: white;
        cursor: pointer;
        transition: all 0.3s;
    }
    .load-more:hover { background: rgba(255,255,255,0.3); }

    .no-services { font-size: 1.5rem; text-align: center; padding: 80px 20px; opacity: 0.9; }

    /* Single profile styles (unchanged but images optimized below) */
    .profile-view-content { width: 100%; max-width: 1100px; margin: 0 auto; text-align: center; padding: 20px; }
    .profile-view-content > img { width: 100%; max-width: 960px; height: auto; border-radius: 32px; margin: 50px 0; box-shadow: 0 16px 50px rgba(0,0,0,0.5); display: block; }

    .contact-box { background: rgba(255,255,255,0.14); border-radius: 32px; padding: 40px; margin: 50px auto; max-width: 700px; border: 1px solid rgba(255,255,255,0.2); }
    .contact-item { display: flex; align-items: center; justify-content: center; gap: 16px; margin: 20px 0; font-size: 1.6rem; overflow-x: auto; }
    .contact-item i { color: var(--coral); font-size: 1.8rem; flex-shrink: 0; }
    .contact-item a { color: white; text-decoration: none; white-space: nowrap; }

    .gallery-wrapper { position: relative; max-width: 960px; margin: 60px auto; overflow: hidden; border-radius: 32px; box-shadow: 0 16px 50px rgba(0,0,0,0.5); }
    .gallery-slider { display: flex; transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1); }
    .gallery-slider img { width: 100%; height: auto; max-height: 620px; object-fit: contain; background: #000; flex-shrink: 0; }
    .gallery-arrow { position: absolute; top: 50%; transform: translateY(-50%); width: 60px; height: 60px; background: rgba(0,0,0,0.55); border-radius: 50%; display: grid; place-items: center; font-size: 2.2rem; cursor: pointer; opacity: 0.85; transition: all 0.3s; }
    .gallery-arrow:hover { opacity: 1; background: rgba(0,0,0,0.75); transform: translateY(-50%) scale(1.15); }
    .gallery-arrow.prev { left: 28px; }
    .gallery-arrow.next { right: 28px; }

    footer { text-align: center; padding: 32px 20px; font-size: 0.95rem; opacity: 0.8; margin-top: auto; }

    @media (min-width: 768px) {
        .services { grid-template-columns: repeat(2, 1fr); }
        .profile-img-wrapper { aspect-ratio: 5 / 3; }
    }
    @media (min-width: 1100px) {
        .services { grid-template-columns: repeat(3, 1fr); gap: 40px; }
    }
    @media (max-width: 768px) {
        .gallery-arrow { display: none; }
        .gallery-slider img { max-height: 500px; }
    }
</style>
</head>
<body>
<div class="wrapper">
    <header class="header-wrapper" id="header">
        <a href="/" class="logo" aria-label="TrueWebX Home">
            <img src="https://truewebx.site/favicon/TrueWebX.jpeg" alt="TrueWebX Logo" width="220" height="64" loading="eager">
        </a>
        <a href="dashboard.html" class="login-btn" aria-label="Login or Sign Up">
            <i class="fas fa-user-circle" aria-hidden="true"></i> Login / Sign Up
        </a>
    </header>

    <main class="main-content">
        <section class="hero" aria-labelledby="hero-heading">
            <h2 id="hero-heading" class="tagline">Promote Your Business Worldwide</h2>
            <p class="subtitle">
                TrueWebX connects customers with trusted local professionals everywhere.
                <strong>Free consultations • Verified services • Global reach</strong>
            </p>
        </section>

        <div class="search-container">
            <label for="searchInput" class="visually-hidden">Search businesses</label>
            <input type="text" id="searchInput" class="search-box" placeholder="Search services, businesses, or cities..." aria-label="Search businesses">
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
        </div>

        <section class="glass" aria-labelledby="services-heading">
            <h2 id="services-heading">Available Services Worldwide</h2>
            <div class="services" id="list" role="list"></div>
            <button id="loadMoreBtn" class="load-more" style="display:none;">Load More Services</button>
        </section>
    </main>

    <footer role="contentinfo">© 2026 TrueWebX – The global directory for professional services</footer>
</div>

<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","name":"TrueWebX","url":"https://truewebx.site/","potentialAction":{"@type":"SearchAction","target":"https://truewebx.site/?q={search_term_string}","query-input":"required name=search_term_string"}}
</script>

<script>
    let ticking = false;
    function updateHeader() {
        document.getElementById('header').classList.toggle('scrolled', window.scrollY > 50);
        ticking = false;
    }
    window.addEventListener('scroll', () => {
        if (!ticking) requestAnimationFrame(updateHeader), ticking = true;
    }, { passive: true });

    const supabaseUrl = 'https://vrpyomevjlsacourdmki.supabase.co';
    const anonKey = document.querySelector('meta[name="supabase-anon-key"]')?.content?.trim();
    const supabase = anonKey ? supabase.createClient(supabaseUrl, anonKey) : null;

    let allServices = [];
    let displayedCount = 0;
    const PAGE_SIZE = 12;
    const BASE_PATH = '/profile';

    if (!supabase) {
        document.getElementById('list').innerHTML = '<p class="no-services">Service temporarily unavailable.</p>';
    } else {
        async function loadInitialServices() {
            const { data, error } = await supabase
                .from('services')
                .select('*')
                .order('created_at', { ascending: false })
                .range(0, PAGE_SIZE - 1);

            if (error) {
                document.getElementById('list').innerHTML = '<p class="no-services">Error loading services.</p>';
                return;
            }

            allServices = data || [];
            displayedCount = allServices.length;
            renderServices(allServices);
            updateLoadMoreButton();
            checkPathAndRender();
        }

        async function loadMore() {
            const { data, error } = await supabase
                .from('services')
                .select('*')
                .order('created_at', { ascending: false })
                .range(displayedCount, displayedCount + PAGE_SIZE - 1);

            if (error || !data?.length) {
                document.getElementById('loadMoreBtn').style.display = 'none';
                return;
            }

            allServices.push(...data);
            displayedCount += data.length;
            renderServices(allServices, true);
            updateLoadMoreButton();
        }

        function updateLoadMoreButton() {
            document.getElementById('loadMoreBtn').style.display = 
                (allServices.length === displayedCount && displayedCount >= PAGE_SIZE) ? 'block' : 'none';
        }

        function renderServices(services, append = false) {
            const container = document.getElementById('list');
            const html = services.map((s, i) => {
                const delay = Math.min(i * 60, 600);
                return `
                <article class="card" id="service-${s.id}" style="transition-delay:${delay}ms;" itemscope itemtype="https://schema.org/LocalBusiness">
                    <button class="share-btn" aria-label="Copy profile link"><i class="fas fa-link"></i></button>

                    <div class="profile-img-wrapper">
                        <img src="${s.profile || 'https://via.placeholder.com/800x600/0d9488/ffffff?text=Upload+Photo'}" 
                             alt="${s.name || 'Business'} featured image" 
                             class="profile-img" 
                             itemprop="image" 
                             width="800" height="600" 
                             loading="${i < 6 ? 'eager' : 'lazy'}" 
                             decoding="async" 
                             fetchpriority="${i < 3 ? 'high' : 'low'}">
                    </div>

                    <div class="card-content">
                        <div>
                            <h3 itemprop="name">${s.name || 'Professional Service'}</h3>
                            <p class="location" itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
                                <strong itemprop="addressLocality">${s.city || 'Location not specified'}</strong>
                            </p>
                            <p class="description-teaser" itemprop="description">${s.description || 'Professional service with free consultation'}</p>

                            ${s.photos?.length ? `
                            <div class="photos">
                                ${s.photos.slice(0,3).map(p => `
                                    <img src="${p}" alt="Gallery image" width="300" height="300" loading="lazy" decoding="async">
                                `).join('')}
                                ${s.photos.length > 3 ? `<div style="grid-column:1/-1;text-align:center;opacity:0.8;">+${s.photos.length - 3} more</div>` : ''}
                            </div>` : ''}

                            <p>Phone: <span class="private" itemprop="telephone">${s.phone || 'Contact for details'}</span></p>
                            <p>Email: <span class="private" itemprop="email">${s.gmail || 'Contact for details'}</span></p>

                            <p class="price"><strong itemprop="offers" itemscope itemtype="https://schema.org/Offer">Free Consultation</strong></p>

                            ${s.social_links?.length ? `<div class="links">
                                ${s.social_links.map(l => `<a href="${l.url}" target="_blank" rel="noopener"><i class="fab fa-${l.type.toLowerCase()}"></i> ${l.type}</a>`).join('')}
                            </div>` : ''}
                        </div>

                        <a href="${BASE_PATH}/${s.slug}" class="view-btn" data-slug="${s.slug}">View Full Profile →</a>
                    </div>
                </article>`;
            }).join('');

            if (append) {
                container.insertAdjacentHTML('beforeend', html);
            } else {
                container.innerHTML = html || '<p class="no-services">No services published yet. Be the first!</p>';
            }

            setTimeout(() => document.querySelectorAll('.card:not(.loaded)').forEach(el => el.classList.add('loaded')), 80);

            // Share buttons
            document.querySelectorAll('.share-btn').forEach(btn => {
                btn.onclick = e => {
                    e.stopPropagation();
                    const slug = btn.closest('.card').querySelector('[data-slug]').dataset.slug;
                    const url = `${location.origin}${BASE_PATH}/${slug}`;
                    navigator.clipboard.writeText(url).then(() => {
                        btn.innerHTML = '<i class="fas fa-check"></i>';
                        setTimeout(() => btn.innerHTML = '<i class="fas fa-link"></i>', 2000);
                    }).catch(() => alert('Copy failed'));
                };
            });

            // View profile handler
            document.querySelectorAll('.view-btn').forEach(a => {
                a.addEventListener('click', e => {
                    e.preventDefault();
                    showSingleProfile(a.dataset.slug);
                });
            });
        }

        // Single profile view (images also optimized)
        function showSingleProfile(slug) {
            const service = allServices.find(s => s.slug === slug);
            if (!service) return renderServices(allServices), history.replaceState({}, '', '/');

            const fullLocation = service.city || 'Your Area';
            const pageUrl = `${location.origin}${BASE_PATH}/${slug}`;

            document.title = `#1 ${service.name} in ${fullLocation} | Free Consultation | TrueWebX`;

            // Meta updates (unchanged logic, just keeping it)
            const setMeta = (n,c)=>{let e=document.querySelector(`meta[name="${n}"]`);if(!e){e=document.createElement('meta');e.name=n;document.head.appendChild(e);}e.content=c;};
            setMeta('description', `${service.name} – Professional service in ${fullLocation}. ${service.description?.slice(0,150)||''}`);

            const setOG = (p,c)=>{let e=document.querySelector(`meta[property="og:${p}"]`);if(!e){e=document.createElement('meta');e.setAttribute('property',`og:${p}`);document.head.appendChild(e);}e.content=c;};
            setOG('title', document.title);
            setOG('description', document.querySelector('meta[name="description"]').content);
            setOG('url', pageUrl);
            setOG('image', service.profile || 'https://truewebx.site/og-image.jpg');

            // Schema (unchanged)
            const schema = {
                "@context": "https://schema.org",
                "@type": "LocalBusiness",
                "name": service.name,
                "image": service.profile || "",
                "url": pageUrl,
                "telephone": service.phone || "",
                "email": service.gmail || "",
                "address": {"@type":"PostalAddress","addressLocality":fullLocation},
                "description": service.description || "",
                "priceRange": "$",
                "openingHours": "Mo-Su 08:00-20:00"
            };
            let sc = document.getElementById('lbSchema') || document.createElement('script');
            sc.id = 'lbSchema'; sc.type = 'application/ld+json';
            sc.textContent = JSON.stringify(schema);
            document.head.appendChild(sc);

            const galleryHTML = service.photos?.length ? `
                <div class="gallery-wrapper">
                    <div class="gallery-slider" id="gallerySlider">
                        ${service.photos.map(p => `<img src="${p}" alt="Gallery" loading="lazy" decoding="async" width="960" height="620">`).join('')}
                    </div>
                    <button class="gallery-arrow prev"><i class="fas fa-chevron-left"></i></button>
                    <button class="gallery-arrow next"><i class="fas fa-chevron-right"></i></button>
                </div>` : '';

            document.querySelector('.glass').innerHTML = `
                <section class="profile-view-content">
                    ${service.profile ? `<img src="${service.profile}" alt="${service.name} profile" loading="lazy" decoding="async" width="960" height="720">` : ''}
                    <p style="font-size:1.5rem;line-height:1.9;max-width:860px;margin:40px auto;opacity:0.95;">
                        ${service.description || 'Professional, reliable, and trusted service.'}
                    </p>
                    <div class="contact-box">
                        ${service.phone ? `<div class="contact-item"><i class="fas fa-phone"></i><a href="tel:${service.phone.replace(/[^0-9+]/g,'')}">${service.phone}</a></div>` : ''}
                        ${service.gmail ? `<div class="contact-item"><i class="fas fa-envelope"></i><a href="mailto:${service.gmail}">Send Email</a></div>` : ''}
                    </div>
                    <p style="font-size:2.8rem;color:var(--coral);font-weight:800;margin:60px 0;">Free Consultation Available</p>
                    <h2 style="font-size:2.8rem;margin:70px 0 50px;">Gallery</h2>
                    ${galleryHTML}
                    <a href="/" class="view-btn" style="padding:18px 50px;font-size:1.5rem;" onclick="history.replaceState({},'', '/'); location.reload(); return false;">← Back to Directory</a>
                </section>`;

            // Gallery slider (unchanged logic)
            if (service.photos?.length > 1) {
                let i = 0;
                const slider = document.getElementById('gallerySlider');
                const move = () => slider.style.transform = `translateX(-${i * 100}%)`;
                document.querySelector('.gallery-arrow.next').onclick = () => { i = (i + 1) % service.photos.length; move(); };
                document.querySelector('.gallery-arrow.prev').onclick = () => { i = (i - 1 + service.photos.length) % service.photos.length; move(); };
            }

            history.replaceState({slug}, '', `${BASE_PATH}/${slug}`);
            window.scrollTo({top:0, behavior:'instant'});
        }

        function getCurrentSlug() {
            const path = location.pathname;
            return path.startsWith(BASE_PATH + '/') ? path.slice(BASE_PATH.length + 1).replace(/\/$/, '') : null;
        }

        function checkPathAndRender() {
            const slug = getCurrentSlug();
            if (slug) showSingleProfile(slug);
            else renderServices(allServices);
        }

        document.getElementById('searchInput').addEventListener('input', e => {
            const q = e.target.value.toLowerCase().trim();
            const filtered = q ? allServices.filter(s => 
                [s.name, s.city, s.description].some(t => t?.toLowerCase().includes(q))
            ) : allServices;
            renderServices(filtered);
        });

        window.addEventListener('popstate', checkPathAndRender);

        document.addEventListener('DOMContentLoaded', () => {
            if (getCurrentSlug()) history.replaceState({}, '', location.pathname);
            loadInitialServices();
            document.getElementById('loadMoreBtn')?.addEventListener('click', loadMore);
        });
    }
</script>
</body>
</html>
